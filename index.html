<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>⏱️ MIQAT</title>

<style>
:root{
  --bg:#020617;
  --border:#1f2937;
  --accent:#22d3ee;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --success:#22c55e;
}

*{
  box-sizing:border-box;
  -webkit-tap-highlight-color:transparent;
}

*::selection{background:transparent}

body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:radial-gradient(circle at top,#1e293b,#020617);
  font-family:system-ui,sans-serif;
  color:var(--text);
}

.container{
  width:100%;
  max-width:520px;
  padding:22px;
  background:#020617;
  border-radius:22px;
  box-shadow:0 0 40px rgba(34,211,238,.18);
}

/* ===== TIMER ===== */
h1{text-align:center;margin:0 0 10px}

.timer{
  text-align:center;
  font-size:48px;
  letter-spacing:2px;
}

/* ===== PROGRESS WAKTU ===== */
.progress-wrapper{
  width:100%;
  height:8px;
  background:#020617;
  border:1px solid var(--border);
  border-radius:999px;
  overflow:hidden;
  margin:10px 0;
}
.progress-bar{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#38bdf8,#0ea5e9);
  transition:width .4s ease;
}

/* ===== INPUT ===== */
.time-input-group{
  display:flex;
  justify-content:center;
  align-items:flex-end;
  gap:8px;
  margin:14px 0;
}
.time-field{
  display:flex;
  flex-direction:column;
  align-items:center;
}
.time-field label{
  font-size:11px;
  color:var(--muted);
  margin-bottom:4px;
}
.time-field input{
  width:72px;
  padding:8px;
  text-align:center;
  font-size:15px;
  border-radius:10px;
  border:1px solid var(--border);
  background:#020617;
  color:var(--text);
}
.time-separator{
  font-size:20px;
  color:var(--muted);
  padding-bottom:6px;
}

/* ===== BUTTON ===== */
.buttons{
  display:flex;
  gap:10px;
  margin-top:10px;
}
button{
  flex:1;
  padding:12px;
  border:none;
  border-radius:14px;
  font-weight:600;
}
.start{background:var(--accent);color:#020617}
.pause{background:#1f2937;color:#fff}
.reset{background:#7c2d12;color:#fff}

/* ===== TODO ===== */
.todo{margin-top:18px}

.task-progress-wrapper{
  width:100%;
  height:6px;
  background:#020617;
  border:1px solid var(--border);
  border-radius:999px;
  overflow:hidden;
}
.task-progress-bar{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#38bdf8,#0ea5e9);
  transition:width .35s ease;
}
.task-progress-text{
  font-size:12px;
  color:var(--muted);
  text-align:right;
  margin-top:4px;
}

.todo-input{
  display:flex;
  gap:8px;
  margin-top:10px;
}
.todo-input input{
  flex:1;
  padding:10px;
  border-radius:12px;
  border:1px solid var(--border);
  background:#020617;
  color:var(--text);
}
.todo-input button{
  width:48px;
  background:var(--accent);
  color:#020617;
  border-radius:12px;
}

ul{list-style:none;padding:0;margin-top:12px}

li{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:12px;
  border-radius:14px;
  border:1px solid var(--border);
  margin-bottom:8px;
}

.task-left{display:flex;align-items:center;gap:10px}

.task-name.done{
  text-decoration:line-through;
  color:var(--success);
}
.task-time{
  font-size:12px;
  color:var(--muted);
}

/* ===== SOWAR / SOCIAL ===== */
.social-container{
  margin-top:26px;
  text-align:center;
}

.social-container p{
  font-size:13px;
  color:#bbb;
  margin-bottom:14px;
}

.social-icons{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:24px;
}

.social-icons a{
  display:block;
  outline:none;
  text-decoration:none;
}

.social-icon{
  width:52px;
  height:52px;
  padding:6px;
  border-radius:14px;
  background:rgba(255,255,255,.03);
  opacity:.85;
  transition:.35s ease;
}

.social-icon:hover{
  transform:scale(1.18) translateY(-4px);
  opacity:1;
  filter:brightness(1.15);
}

.social-icon.ig:hover{
  box-shadow:0 0 12px rgba(225,48,108,.8),0 0 25px rgba(253,29,29,.6);
}
.social-icon.wa:hover{
  box-shadow:0 0 12px rgba(37,211,102,.8),0 0 25px rgba(37,211,102,.6);
}

.support-text{
  margin-top:18px;
  font-size:13px;
  color:#ccc;
}
.support-text a{
  color:#00e676;
  font-weight:600;
  text-decoration:none;
}

.copyright{
  margin-top:10px;
  font-size:11px;
  letter-spacing:.6px;
  color:rgba(255,255,255,.35);
}
</style>
</head>

<body>

<div class="container">
  <h1>⏱ MIQAT</h1>

  <div class="timer" id="timer">00:00:00</div>
  <div class="progress-wrapper"><div class="progress-bar" id="progressBar"></div></div>

  <div class="time-input-group">
    <div class="time-field">
      <label>Jam</label>
      <input id="hour" type="number" min="0">
    </div>
    <span class="time-separator">:</span>
    <div class="time-field">
      <label>Menit</label>
      <input id="minute" type="number" min="0" max="59">
    </div>
  </div>

  <div class="buttons">
    <button class="start" onclick="startTimer()">Mulai</button>
    <button class="pause" onclick="togglePause()">Jeda</button>
    <button class="reset" onclick="resetTimer()">Reset</button>
  </div>

  <div class="todo">
    <div class="task-progress-wrapper">
      <div class="task-progress-bar" id="taskProgressBar"></div>
    </div>
    <div class="task-progress-text" id="taskProgressText">0% tugas selesai</div>

    <div class="todo-input">
      <input id="taskInput" placeholder="Tambah tugas...">
      <button onclick="addTask()">＋</button>
    </div>
    <ul id="taskList"></ul>
  </div>

  <!-- ===== SOWAR ===== -->
  <div class="social-container">
    <p>Info lebih lanjut, hubungi kami:</p>

    <div class="social-icons">
      <a href="https://www.instagram.com/umarhamdan_a/" target="_blank">
        <img src="https://res.cloudinary.com/dmecuyazc/image/upload/v1766738130/ig_nhlx8u.png"
             class="social-icon ig" alt="Instagram">
      </a>
      <a href="https://wa.me/62859106771139" target="_blank">
        <img src="https://res.cloudinary.com/dmecuyazc/image/upload/v1766738128/wa_qpuube.png"
             class="social-icon wa" alt="WhatsApp">
      </a>
    </div>

    <div class="support-text">
      Berkenan mendukung kami? silahkan klik <a href="https://www.google.com" target="_blank">di sini</a>
    </div>

    <div class="copyright">
      © 2025 Afhimna Dev. All Rights Reserved.
    </div>
  </div>
</div>

<script>
let totalSeconds=0, initialSeconds=0, lastCheckpoint=0;
let interval=null, paused=false;

function updateDisplay(){
  const h=Math.floor(totalSeconds/3600);
  const m=Math.floor((totalSeconds%3600)/60);
  const s=totalSeconds%60;
  timer.textContent=
    String(h).padStart(2,"0")+":"+
    String(m).padStart(2,"0")+":"+
    String(s).padStart(2,"0");
}

function startTimer(){
  if(interval) return;
  if(totalSeconds===0){
    totalSeconds=(+hour.value||0)*3600+(+minute.value||0)*60;
    initialSeconds=lastCheckpoint=totalSeconds;
  }
  interval=setInterval(()=>{
    if(!paused && totalSeconds>0){
      totalSeconds--;
      updateDisplay();
      progressBar.style.width=((initialSeconds-totalSeconds)/initialSeconds*100)+"%";
    }
  },1000);
}

function togglePause(){paused=!paused}

function resetTimer(){
  clearInterval(interval);
  interval=null;
  paused=false;
  totalSeconds=initialSeconds=lastCheckpoint=0;
  progressBar.style.width="0%";
  updateDisplay();
}

function format(sec){
  const m=Math.floor(sec/60);
  const s=sec%60;
  return String(m).padStart(2,"0")+":"+String(s).padStart(2,"0");
}

function updateTaskProgress(){
  const tasks=[...taskList.children];
  const done=tasks.filter(li=>li.classList.contains("done")).length;
  const percent=tasks.length?Math.round(done/tasks.length*100):0;
  taskProgressBar.style.width=percent+"%";
  taskProgressText.textContent=percent+"% tugas selesai";
}

function addTask(){
  const text=taskInput.value.trim();
  if(!text) return;

  const li=document.createElement("li");
  const left=document.createElement("div");
  left.className="task-left";

  const cb=document.createElement("input");
  cb.type="checkbox";

  const name=document.createElement("span");
  name.className="task-name";
  name.textContent=text;

  const time=document.createElement("span");
  time.className="task-time";
  time.textContent="--:--";

  cb.onchange=()=>{
    if(cb.checked){
      li.classList.add("done");
      name.classList.add("done");
      const dur=lastCheckpoint-totalSeconds;
      lastCheckpoint=totalSeconds;
      time.textContent=format(dur);
    }else{
      li.classList.remove("done");
      name.classList.remove("done");
      time.textContent="--:--";
    }
    updateTaskProgress();
  };

  left.append(cb,name);
  li.append(left,time);
  taskList.appendChild(li);
  taskInput.value="";
  updateTaskProgress();
}

document.addEventListener("keydown",e=>{
  if(e.code==="Space"){e.preventDefault();togglePause()}
  if(e.key==="Enter"){
    document.activeElement===taskInput?addTask():startTimer();
  }
});

updateDisplay();
</script>

</body>
</html>


