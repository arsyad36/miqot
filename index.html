<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MIQAT</title>

<style>
:root{
  --bg:#0b1220;
  --card:#0f1b2d;
  --accent:#22d3ee;
  --text:#e5e7eb;
}

*{box-sizing:border-box;font-family:system-ui,Segoe UI,Roboto}

body{
  margin:0;
  background:radial-gradient(circle at top,#16233a,#020617);
  color:var(--text);
  display:flex;
  justify-content:center;
  padding:16px;
}

.app{
  width:100%;
  max-width:520px;
  background:linear-gradient(180deg,#0b1220,#020617);
  border-radius:22px;
  padding:18px;
  box-shadow:0 20px 50px rgba(0,0,0,.6);
}

.timer-card{
  background:linear-gradient(180deg,#0f172a,#020617);
  border-radius:20px;
  padding:18px;
}

.title{
  text-align:center;
  letter-spacing:.08em;
  opacity:.9;
}

.time{
  font-size:48px;
  text-align:center;
  margin:10px 0;
}

/* ====== INPUT JAM & MENIT (RAPI MOBILE) ====== */
.time-input-group{
  display:flex;
  align-items:flex-end;
  justify-content:center;
  gap:8px;
  margin:14px 0;
}

.time-field{
  display:flex;
  flex-direction:column;
  align-items:center;
}

.time-field label{
  font-size:11px;
  color:rgba(255,255,255,.6);
  margin-bottom:4px;
}

.time-field input{
  width:72px;
  padding:8px 6px;
  font-size:15px;
  text-align:center;
  border-radius:10px;
  border:none;
  outline:none;
  background:#0f1b2d;
  color:#fff;
}

.time-separator{
  font-size:20px;
  color:rgba(255,255,255,.5);
  padding-bottom:6px;
}
/* =========================================== */

.buttons{
  display:flex;
  gap:10px;
  margin-top:10px;
}

button{
  flex:1;
  padding:12px;
  border:none;
  border-radius:14px;
  font-size:15px;
  color:#fff;
}

.start{background:#22d3ee;color:#022c22}
.pause{background:#1f2937}
.reset{background:#7c2d12}

.tasks{
  margin-top:16px;
}

.progress{
  height:6px;
  background:#020617;
  border-radius:999px;
  overflow:hidden;
}

.progress div{
  height:100%;
  width:0%;
  background:#22d3ee;
}

.task-input{
  display:flex;
  gap:10px;
  margin-top:10px;
}

.task-input input{
  flex:1;
  padding:12px;
  border-radius:14px;
  border:none;
  outline:none;
  background:#020617;
  color:#fff;
}

.task-input button{
  width:56px;
  background:#22d3ee;
  color:#022c22;
}

.task{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:12px;
  border-radius:14px;
  margin-top:10px;
  background:#020617;
}

.task span.done{
  text-decoration:line-through;
  color:#22c55e;
}

.copyright{
  position:fixed;
  bottom:4px;
  left:50%;
  transform:translateX(-50%);
  font-size:9px;
  color:rgba(255,255,255,.35);
  pointer-events:none;
}
</style>
</head>

<body>
<div class="app">
  <div class="timer-card">
    <div class="title">⏱ MIQAT</div>
    <div class="time" id="display">00:00:00</div>

    <!-- INPUT JAM & MENIT (FINAL) -->
    <div class="time-input-group">
      <div class="time-field">
        <label>Jam</label>
        <input type="number" id="hours" min="0" placeholder="0">
      </div>

      <span class="time-separator">:</span>

      <div class="time-field">
        <label>Menit</label>
        <input type="number" id="minutes" min="0" max="59" placeholder="00">
      </div>
    </div>

    <div class="buttons">
      <button class="start" onclick="start()">Mulai</button>
      <button class="pause" onclick="togglePause()">Jeda</button>
      <button class="reset" onclick="resetTimer()">Reset</button>
    </div>
  </div>

  <div class="tasks">
    <div class="progress"><div id="progressBar"></div></div>

    <div class="task-input">
      <input id="taskInput" placeholder="Tambah tugas...">
      <button onclick="addTask()">+</button>
    </div>

    <div id="taskList"></div>
  </div>
</div>

<div class="copyright">
© 2025 Afhimna Dev. All Rights Reserved.
</div>

<script>
let totalSeconds=0,interval=null,paused=false;
let tasks=[];

function updateDisplay(){
  let h=Math.floor(totalSeconds/3600);
  let m=Math.floor((totalSeconds%3600)/60);
  let s=totalSeconds%60;
  display.textContent=
    String(h).padStart(2,'0')+":"+
    String(m).padStart(2,'0')+":"+
    String(s).padStart(2,'0');
}

function start(){
  if(interval) return;
  if(totalSeconds===0){
    let h=+hours.value||0;
    let m=+minutes.value||0;
    totalSeconds=(h*3600)+(m*60);
  }
  interval=setInterval(()=>{
    if(!paused && totalSeconds>0){
      totalSeconds--;
      updateDisplay();
    }
  },1000);
}

function togglePause(){ paused=!paused; }

function resetTimer(){
  clearInterval(interval);
  interval=null;
  totalSeconds=0;
  paused=false;
  updateDisplay();
}

document.addEventListener("keydown",e=>{
  if(e.key===" ") {e.preventDefault();togglePause();}
  if(e.key==="Enter"){
    if(document.activeElement===taskInput) addTask();
    else start();
  }
});

function addTask(){
  let v=taskInput.value.trim();
  if(!v) return;
  tasks.push({text:v,done:false});
  taskInput.value="";
  renderTasks();
}

function renderTasks(){
  taskList.innerHTML="";
  tasks.forEach((t,i)=>{
    let d=document.createElement("div");
    d.className="task";
    let s=document.createElement("span");
    s.textContent=t.text;
    if(t.done) s.classList.add("done");
    let c=document.createElement("input");
    c.type="checkbox";
    c.checked=t.done;
    c.onchange=()=>{t.done=c.checked;renderTasks();}
    d.append(c,s);
    taskList.appendChild(d);
  });
  let done=tasks.filter(t=>t.done).length;
  progressBar.style.width=(tasks.length?done/tasks.length*100:0)+"%";
}

updateDisplay();
</script>
</body>
</html>
